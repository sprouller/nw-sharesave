(()=>{document.addEventListener("DOMContentLoaded",()=>{let E="savings",I="initial",v="numberOfShares",h="sharePrice",y="value",P="increase",T="change",S="profit",N="sliderVal",f="optionPrice",w="bonusMultiple",o=document.getElementById(E),B=document.getElementById(I),V=document.getElementById(v),L=document.getElementById(h),C=document.getElementById(y),r=document.getElementById(P),_=document.getElementById(T),b=document.getElementById(S),X=document.getElementById(N),R=document.getElementById(f),k=document.getElementById(w),x=document.querySelectorAll('input[name="period"]'),A="https://alpha-pulse.vercel.app/api/eod?id=nwg",u=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2,maximumFractionDigits:2}).format(e),a=null,c=1.88,d=3,F=106,M=async()=>{try{let e=await fetch(A);if(!e.ok)throw new Error("Network response was not ok");return(await e.json())[0].price/100}catch(e){console.log("There was a problem with the fetch operation:",e.message)}},O=async()=>{a=await M(),a!==null&&(convertedSharePrice=a*F,c=convertedSharePrice*.8),L.textContent=u(convertedSharePrice),R.textContent=u(c),o.addEventListener("input",()=>{let e=o.value,t=r.value;s(e,t)}),r.addEventListener("input",()=>{let e=o.value,t=r.value;s(e,t)}),x.forEach(e=>{e.addEventListener("change",function(){d=parseInt(this.value,10);let t=o.value,n=r.value;s(t,n)})})},s=(e,t)=>{let n=l=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),D=l=>new Intl.NumberFormat().format(l),i=e*12*d,m=Math.floor(i/c),g=Math.round(m*convertedSharePrice),p=g*(1+t/100),U=p-i;B.textContent=n(i),V.textContent=D(m),C.textContent=n(g),_.textContent=n(p),b.textContent=n(U)};O(),o.addEventListener("input",e=>{let t=e.target.reportValidity();e.target.setAttribute("aria-invalid",!t)}),console.log("live")});})();
