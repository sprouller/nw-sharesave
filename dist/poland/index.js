(()=>{document.addEventListener("DOMContentLoaded",()=>{let E="savings",v="initial",h="numberOfShares",I="sharePrice",P="value",y="increase",T="change",S="profit",L="sliderVal",f="optionPrice",w="bonusMultiple",o=document.getElementById(E),B=document.getElementById(v),N=document.getElementById(h),V=document.getElementById(I),C=document.getElementById(P),r=document.getElementById(y),_=document.getElementById(T),b=document.getElementById(S),X=document.getElementById(L),x=document.getElementById(f),k=document.getElementById(w),A=document.querySelectorAll('input[name="period"]'),F="https://alpha-pulse.vercel.app/api/eod?id=nwg",u=t=>new Intl.NumberFormat("pl-PL",{style:"currency",currency:"PLN",minimumFractionDigits:2,maximumFractionDigits:2}).format(t),a=null,c=1.88,d=3,M=5,O=async()=>{try{let t=await fetch(F);if(!t.ok)throw new Error("Network response was not ok");return(await t.json())[0].price/100}catch(t){console.log("There was a problem with the fetch operation:",t.message)}},R=async()=>{a=await O(),a!==null&&(convertedSharePrice=a*M,c=convertedSharePrice*.8),V.textContent=u(convertedSharePrice),x.textContent=u(c),o.addEventListener("input",()=>{let t=o.value,e=r.value;s(t,e)}),r.addEventListener("input",()=>{let t=o.value,e=r.value;s(t,e)}),A.forEach(t=>{t.addEventListener("change",function(){d=parseInt(this.value,10);let e=o.value,n=r.value;s(e,n)})})},s=(t,e)=>{let n=l=>new Intl.NumberFormat("pl-PL",{style:"currency",currency:"PLN",minimumFractionDigits:0,maximumFractionDigits:0}).format(l),D=l=>new Intl.NumberFormat().format(l),i=t*12*d,m=Math.floor(i/c),p=Math.round(m*convertedSharePrice),g=p*(1+e/100),U=g-i;B.textContent=n(i),N.textContent=D(m),C.textContent=n(p),_.textContent=n(g),b.textContent=n(U)};R(),o.addEventListener("input",t=>{let e=t.target.reportValidity();t.target.setAttribute("aria-invalid",!e)}),console.log("live")});})();
